p1 <- ggplot(year_vir_res, aes(x=Year)) + geom_bar(aes(weight=virulence_score)) +
geom_line(aes(y=Yersiniabactin, color="ybt")) + geom_line(aes(y=Colibactin, color="clb")) +
geom_line(aes(y=Aerobactin, color="iuc")) + geom_line(aes(y=Salmochelin, color="iro")) +
geom_line(aes(y=RmpADC, color="rmpADC")) + geom_line(aes(y=rmpA2)) +
scale_y_continuous(sec.axis = dup_axis()) +
scale_x_continuous("Year") +
ggtitle("Mean resistance/Virulence score per year") + theme_tufte()
p1 + scale_colour_brewer("Label", palette="Set2")
year_vir_res <- read.csv("data/mean_vir_res_by_year.csv")
year_vir_res <- read.csv("/Users/lcer0001/GitHub/Kleborate_viz/data/mean_vir_res_by_year.csv")
p1 <- ggplot(year_vir_res, aes(x=Year)) + geom_bar(aes(weight=virulence_score)) +
geom_line(aes(y=Yersiniabactin, color="ybt")) + geom_line(aes(y=Colibactin, color="clb")) +
geom_line(aes(y=Aerobactin, color="iuc")) + geom_line(aes(y=Salmochelin, color="iro")) +
geom_line(aes(y=RmpADC, color="rmpADC")) + geom_line(aes(y=rmpA2)) +
scale_y_continuous("Prevalence") +
scale_x_continuous("Year") +
ggtitle("Mean resistance/Virulence score per year") + theme_tufte()
ggtitle("Mean Virulence score per year") + theme_tufte()
library(ggplot2)
library(heatmaply)
library(dplyr)
library(reshape2)
library(plotly)
library(vegan)
library(ComplexHeatmap)
library(readxl)
library(pheatmap)
library(ggrepel)
library(shinythemes)
library(RColorBrewer)
library(shinydashboard)
library(ggthemes)
install.packages("shinydashboard")
library(shinydashboard)
ggtitle("Mean resistance/Virulence score per year") + theme_tufte()
year_vir_res <- read.csv("/Users/lcer0001/GitHub/Kleborate_viz/data/mean_vir_res_by_year.csv")
p1 <- ggplot(year_vir_res, aes(x=Year)) + geom_bar(aes(weight=virulence_score)) +
geom_line(aes(y=Yersiniabactin, color="ybt")) + geom_line(aes(y=Colibactin, color="clb")) +
geom_line(aes(y=Aerobactin, color="iuc")) + geom_line(aes(y=Salmochelin, color="iro")) +
geom_line(aes(y=RmpADC, color="rmpADC")) + geom_line(aes(y=rmpA2)) +
scale_y_continuous("Prevalence") +
scale_x_continuous("Year") +
theme_tufte() +
ggtitle("Mean resistance/Virulence score per year") +
ggtitle("Mean resistance/Virulence score per year")
scale_colour_brewer("Label", palette="Set2")
p1 + scale_colour_brewer("Label", palette="Set2")
p1 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight=virulence_score)) +
geom_line(aes(y=Yersiniabactin, color="ybt")) + geom_line(aes(y=Colibactin, color="clb")) +
geom_line(aes(y=Aerobactin, color="iuc")) + geom_line(aes(y=Salmochelin, color="iro")) +
geom_line(aes(y=RmpADC, color="rmpADC")) + geom_line(aes(y=rmpA2)) + theme_tufte() +
scale_y_continuous("Prevalence") +
scale_x_continuous("Year") +
ggtitle("Mean resistance/Virulence score per year") + theme_tufte() +
scale_colour_brewer("Label", palette="Set2")
p1
p2 <- ggplot(year_vir_res, aes(x=year)) +
geom_bar(aes(weight =resistance_score)) +
geom_line(aes(y=Col, color = "carb")) +
geom_line(aes(y=Bla_ESBL, color = "ESBL")) +
geom_line(aes(y=Bla_Carb, color = "carb")) + theme_tufte()
p2 + scale_colour_brewer("Label", palette="Set2")
geom_line(aes(y=Col, color = "Col")) +
geom_line(aes(y=Bla_ESBL, color = "ESBL")) +
geom_line(aes(y=Bla_Carb, color = "carb")) + theme_tufte()
p2 <- ggplot(year_vir_res, aes(x=year)) +
geom_bar(aes(weight =resistance_score)) +
geom_bar(aes(weight=resistance_score)) +
geom_line(aes(y=Col, color = "Col")) +
geom_line(aes(y=Bla_ESBL, color = "ESBL")) +
geom_line(aes(y=Bla_Carb, color = "carb")) + theme_tufte()
p2 + scale_colour_brewer("Label", palette="Set2")
p2 + scale_y_continuous("Prevalence") +
scale_x_continuous("Year") +
scale_colour_brewer("Label", palette="Set2")
p3 <- ggplot(year_vir_res, aes(x=year)) +
geom_line(aes(y=num_resistance_classes, color="AMR classes")) +
geom_line(aes(y=num_resistance_genes, color="AMR genes")) + theme_tufte()
scale_y_continuous("Mean AMR classes/genes") +
scale_x_continuous("Year") +
scale_colour_brewer("Label", palette="Set2")
geom_line(aes(y=num_resistance_genes, color="AMR genes")) + theme_tufte() +
scale_y_continuous("Mean AMR classes/genes") +
scale_x_continuous("Year") +
scale_colour_brewer("Label", palette="Set2")
View(p3)
p3 <- ggplot(year_vir_res, aes(x=year)) +
geom_line(aes(y=num_resistance_classes, color="AMR classes")) +
geom_line(aes(y=num_resistance_genes, color="AMR genes")) + theme_tufte() +
scale_y_continuous("Mean AMR classes/genes") +
scale_x_continuous("Year") +
scale_colour_brewer("Label", palette="Set2")
view(p3)
p3 + scale_colour_brewer("Label", palette="Set2")
shiny::runApp('GitHub/Kleborate_viz')
setwd("/Users/lcer0001/GitHub/Kleborate_viz/")
runApp()
runApp('new_2/Kleborate_viz')
setwd("/Users/lcer0001/GitHub/Kleborate_viz/")
runApp('new_2/Kleborate_viz')
runApp('new_2/Kleborate_viz')
runApp('new_2/Kleborate_viz')
runApp('new_2/Kleborate_viz/app_sidepanel.R')
runApp('new_2/Kleborate_viz/app_sidepanel.R')
runApp()
runApp('new_2/Kleborate_viz')
runApp('new_2/Kleborate_viz')
runApp()
runApp('scripts/app_v2.R')
sample_vir_res <- read.csv("data/mean_vir_res_scores_sampletype.csv")
ST_vir_res <- read.csv("data/mean_vir_res_scores_ST.csv")
ggplot(sample_vir_res, aes(x=sample_vir_res$mean_vir, y=sample_vir_res$mean_res)) +
geom_point(aes(size=sample_vir_res$number.of.genomes)) +
geom_text_repel(label=sample_vir_res$sample)
ggplot(sample_vir_res, aes(x=mean_vir, y=mean_res)) +
geom_point(aes(size=number.of.genomes)) +
geom_text_repel(label=sample)
library(ggrepel)
ggplot(sample_vir_res, aes(x=sample_vir_res$mean_vir, y=sample_vir_res$mean_res)) + geom_point(aes(size=sample_vir_res$number.of.genomes)) + geom_text_repel(label=sample_vir_res$sample)
p4 <- ggplot(sample_vir_res, aes(x=sample_vir_res$mean_vir, y=sample_vir_res$mean_res)) + geom_point(aes(size=sample_vir_res$number.of.genomes)) + geom_text_repel(label=sample_vir_res$sample)
p4 + scale_colour_brewer("Label", palette="Set2")
