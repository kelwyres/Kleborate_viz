library(devtools)
install_github("jokergoo/ComplexHeatmap")
library(devtools)
install.packages(devtools)
install.packages("devtools")
library(devtools)
install_github("jokergoo/ComplexHeatmap")
library(ComplexHeatmap)
readxl
install.packages("readxl")
install.packages("pheatmap")
year_vir_res <- read.csv("~/data/mean_vir_res_by_year_jun2020.csv")
year_vir_res <- read.csv("/data/mean_vir_res_by_year_jun2020.csv")
year_vir_res <- read.csv("mean_vir_res_by_year_jun2020.csv")
library(shiny); runApp('GitHub/Kleborate_viz/app_sidepanel.R')
runApp('GitHub/Kleborate_viz/app_sidepanel.R')
runApp('app_sidepanel.R')
runApp('GitHub/Kleborate_viz')
library(iSEE)
install.packages("iSEE")
# load module functions
source("sidepanel.R")
source('~/GitHub/Kleborate_viz/app.R')
if(is.null(ed) == FALSE && ed$curveNumber == 0) {
selected_st <- kleborate_data.gene_vir_ab[ed$pointNumber+1, ]
st_name <- as.character(selected_st[ ,1])
st_data <- selected_st[ ,2:length(selected_st)]
title <- paste(title_base, '-', st_name)
genes <- colnames(st_data)
values <- as.numeric(st_data)
st_data <- data.frame(gene=genes, value=values)
plot_ly(data=st_data, x=~gene, y=~value, type='bar') %>% layout(title=title_base, yaxis=list(range=c(0, 1)))
} else {
genes <- colnames(kleborate_data.gene_vir_ab)[2:length(kleborate_data.gene_vir_ab)]
values <- rep(0, length(kleborate_data.gene_vir_ab)-1)
empty_data <- data.frame(gene=genes, value=values)
plot_ly(data=empty_data, x=~gene, y=~value, type='bar') %>% layout(title=title_base, yaxis=list(range=c(0, 1)))
}
source('~/GitHub/Kleborate_viz/app.R')
# load server function
source("server.R")
clearPushBack()
source('~/GitHub/Kleborate_viz/app.R')
source('~/GitHub/Kleborate_viz/app.R')
# load server function
source("server.R")
source('~/GitHub/Kleborate_viz/app.R')
# load server function
source("serv.R")
source('~/GitHub/Kleborate_viz/app.R')
# load server function
source("server.R")
source('~/GitHub/Kleborate_viz/app.R')
shiny::runApp('GitHub/Kleborate_viz')
KleborateData()
data()
kleborate_data()
runApp('GitHub/Kleborate_viz')
kleborate_data()
Data()
shiny::runApp('GitHub/Kleborate_viz/t/Kleborate_viz')
shiny::runApp('GitHub/Kleborate_viz/t/Kleborate_viz')
+ geom_line(aes(y=year_vir_res$num_resistance_genes, color = "black")) + theme_bw()
library(shiny)
library(ggplot2)
library(heatmaply)
library(dplyr)
library(reshape2)
library(plotly)
library(vegan)
library(ComplexHeatmap)
library(readxl)
library(pheatmap)
library(ggrepel)
library(shinythemes)
library(RColorBrewer)
year_vir_res <- read.csv("/data/mean_vir_res_by_year_jun2020.csv")
setwd(dir = "/Users/lcer0001/GitHub/Kleborate_viz/")
year_vir_res <- read.csv("/data/mean_vir_res_by_year_jun2020.csv")
year_vir_res <- read.csv("data/mean_vir_res_by_year.csv")
p1 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$virulence_score)) +
p1 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$virulence_score)) +
geom_line(aes(y=year_vir_res$Yersiniabactin, color = "red")) + geom_line(aes(y=year_vir_res$Colibactin, color = "blue"))
p1 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$virulence_score)) + geom_line(aes(y=year_vir_res$Yersiniabactin, color = "red")) + geom_line(aes(y=year_vir_res$Colibactin, color = "blue"))
+ geom_line(aes(y=year_vir_res$Aerobactin, color = "grey")) + geom_line(aes(y=year_vir_res$Salmochelin, color = "white"))
geom_line(aes(y=year_vir_res$Aerobactin, color = "grey")) + geom_line(aes(y=year_vir_res$Salmochelin, color = "white"))
p1 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$virulence_score)) + geom_line(aes(y=year_vir_res$Yersiniabactin, color = "red")) + geom_line(aes(y=year_vir_res$Colibactin, color = "blue")) + geom_line(aes(y=year_vir_res$Aerobactin, color = "grey")) + geom_line(aes(y=year_vir_res$Salmochelin, color = "white")) + geom_line(aes(y=year_vir_res$RmpADC, color = "black")) + geom_line(aes(y=year_vir_res$rmpA2, color = "orange")) + theme_bw()
p2 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red"))
+ geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
p2 <- ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red")) + geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
p3 <- ggplot(year_vir_res, aes(x=year)) + geom_line(aes(y=year_vir_res$num_resistance_classes, color = "red")) + geom_line(aes(y=year_vir_res$num_resistance_genes, color = "black")) + theme_bw()
p3
p3()
ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red"))
+ geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red")) + geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
year_vir_res <- read.csv("data/mean_vir_res_by_year.csv")
ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red")) + geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight =year_vir_res$resistance_score)) + geom_line(aes(y=year_vir_res$Col, color = "red")) + geom_line(aes(y=year_vir_res$Bla_ESBL, color = "black")) + geom_line(aes(y=year_vir_res$Bla_Carb, color = "grey")) + theme_bw()
ggplot(year_vir_res, aes(x=year)) + geom_bar(aes(weight=resistance_score)) + geom_line(aes(y=Col, color = "red")) + geom_line(aes(y=Bla_ESBL, color = "black")) + geom_line(aes(y=Bla_Carb, color = "grey")) + theme_bw()
